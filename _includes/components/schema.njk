{# Dynamic JSON-LD Schema based on page type #}

{# Site-wide Organization schema #}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "RealityTVTravel",
  "url": "https://realitytvtravel.com",
  "logo": "https://realitytvtravel.com/assets/images/logo.png",
  "description": "The premier hub for reality TV filming locations worldwide. Visit destinations from The Bachelor, Love Is Blind, Too Hot to Handle, and more.",
  "sameAs": [
    "https://twitter.com/realitytvtravel",
    "https://instagram.com/realitytvtravel",
    "https://tiktok.com/@realitytvtravel"
  ]
}
</script>

{# WebSite schema with search action #}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "RealityTVTravel",
  "url": "https://realitytvtravel.com",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://realitytvtravel.com/search/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

{# Breadcrumb schema #}
{% if breadcrumbs and breadcrumbs.length > 0 %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://realitytvtravel.com/"
    }{% for crumb in breadcrumbs %},
    {
      "@type": "ListItem",
      "position": {{ loop.index + 1 }},
      "name": "{{ crumb.name | replace('"', '\\"') }}",
      "item": "https://realitytvtravel.com{{ crumb.url }}"
    }{% endfor %}
  ]
}
</script>
{% endif %}

{# Location/Place schema for venues #}
{% if type == "location" or type == "restaurant" or type == "hotel" %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{% if type == 'restaurant' %}Restaurant{% elif type == 'hotel' %}LodgingBusiness{% else %}TouristAttraction{% endif %}",
  "name": "{{ name | replace('"', '\\"') }}",
  "description": "{{ meta.description | replace('"', '\\"') }}",
  {% if address %}
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "{{ address | replace('"', '\\"') }}"
  },
  {% endif %}
  {% if coordinates %}
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": {{ coordinates.lat }},
    "longitude": {{ coordinates.lng }}
  },
  {% endif %}
  {% if priceRange %}
  "priceRange": "${{ priceRange.min }}-${{ priceRange.max }}",
  {% endif %}
  {% if images and images.length > 0 %}
  "image": "https://realitytvtravel.com{{ images[0].src }}",
  {% endif %}
  "url": "https://realitytvtravel.com{{ page.url }}"
}
</script>
{% endif %}

{# TVSeries schema for show pages #}
{% if type == "show" %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TVSeries",
  "name": "{{ name | replace('"', '\\"') }}",
  "description": "{{ meta.description | replace('"', '\\"') }}",
  {% if network %}
  "productionCompany": {
    "@type": "Organization",
    "name": "{{ network }}"
  },
  {% endif %}
  {% if seasons %}
  "numberOfSeasons": {{ seasons }},
  {% endif %}
  "url": "https://realitytvtravel.com{{ page.url }}"
}
</script>
{% endif %}

{# Person schema for cast pages #}
{% if type == "cast" %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "{{ name | replace('"', '\\"') }}",
  {% if hometown %}
  "birthPlace": "{{ hometown | replace('"', '\\"') }}",
  {% endif %}
  {% if currentCity %}
  "homeLocation": {
    "@type": "Place",
    "name": "{{ currentCity | replace('"', '\\"') }}"
  },
  {% endif %}
  "url": "https://realitytvtravel.com{{ page.url }}"
}
</script>
{% endif %}
